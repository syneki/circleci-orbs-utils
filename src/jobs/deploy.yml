description: >
  Sample description
# What will this job do?

executor: default

parameters:
  working_directory:
    type: string
    description: "Directory where the Pulumi project is located"
  organization:
    type: string
    description: "The Pulumi Organization name (<organization>/<stack>)"
  stack:
    type: string
    description: "The Pulumi Stack name (<organization>/<stack>)"
  project:
    type: string
    description: "The deployed project name"
  url:
    type: string
    description: "The deployed project URL"
environment:
  PARAM_PROJECT: << parameters.project >>
  PARAM_ENVIRONMENT: << parameters.stack >>
  PARAM_URL: << parameters.url >>
steps:
  - pulumi/login
  - pulumi/update:
      stack: << parameters.organization >>/<< parameters.stack >>
      working_directory: << parameters.working_directory >>
  - slack/notify:
      event: pass
      custom: << include(slack-templates/deploy.json) >>
